<!doctype html>
<html>
  <head>
    <title>Wasm Chess</title>
  </head>
  <body>
    <canvas id="board" width="100" height="100"> why do you no are have canvas?! </canvas>
  </body>
  <script>
    let Engine;
    let board;
    WebAssembly.instantiateStreaming(fetch("main.wasm"), {}).then(
        (result) => {
            console.log(result.instance.exports);
            Engine = result.instance.exports;
            board = new Uint8Array(Engine.memory.buffer, Engine.theBoard);
            console.log("Zero: " + board[0]);
            Engine.setBoardOne(1);
            console.log("One: " + board[0]);
            Engine.setBoardOne(2);
            console.log("Two: " + board[0]);
        },
    );

    // zig build-lib src/web.zig -target wasm32-freestanding -dynamic -rdynamic -O ReleaseFast && mv web.wasm web/main.wasm
  </script>
</html>
